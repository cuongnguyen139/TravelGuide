{"ast":null,"code":"var _jsxFileName = \"/home/cuong/react_projects/my-app-auth/src/PhoneList.js\";\nimport React from \"react\";\nimport \"./PhoneList.css\";\nimport EditNameModal from \"./EditNameModal\";\nimport EditShortNumberModal from \"./EditShortNumberModal\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport Checkbox from \"./Checkbox\";\n\nclass PhoneList extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      openShortNumber: false,\n      openPublicNumber: false,\n      id: \"\",\n      alarmNumbers: [],\n      ItemsChecked: false,\n      error: null,\n      items: []\n    };\n\n    this.openShortNumber = () => this.setState({\n      openShortNumber: true\n    });\n\n    this.closeShortNumber = () => this.setState({\n      openShortNumber: false\n    });\n\n    this.openPublicNumber = () => this.setState({\n      openPublicNumber: true\n    });\n\n    this.closePublicNumber = () => this.setState({\n      openPublicNumber: false\n    });\n\n    this.deleteShortNumberModal = e => {\n      this.openShortNumber();\n      this.setState({\n        id: e.target.id\n      });\n    };\n\n    this.deletePublicNumberModal = e => {\n      this.openPublicNumber();\n      this.setState({\n        id: e.target.id\n      });\n    };\n\n    this.deleteShortNumberHandler = () => {\n      this.props.onSubmitSN(this.state.id);\n      this.closeShortNumber();\n    };\n\n    this.deletePublicNumberHandler = e => {\n      this.props.onSubmitPN(this.state.id);\n      this.closePublicNumber();\n    };\n\n    this.selectAll = e => {\n      const checked = e.target.checked;\n      let collection = [];\n\n      if (checked) {\n        collection = this.getAllItems();\n      }\n\n      this.setState({\n        alarmNumbers: collection,\n        ItemsChecked: checked\n      }, () => {\n        console.log(this.state.alarmNumbers);\n      });\n    };\n\n    this.getAllItems = () => {\n      const items = this.props.data;\n      let collection = [];\n\n      for (const item of items) {\n        collection.push(item.number);\n      }\n\n      collection = collection.filter(item => item !== \"35834439430\");\n      collection = collection.filter(item => item !== \"35834439431\");\n      return collection;\n    };\n\n    this.alarmCallAPI = () => {\n      fetch(\"http://localhost/alarmCallAPI.php\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\"\n        },\n        body: JSON.stringify({\n          answerNumber: \"358441234001\",\n          message: \"hello world\"\n        })\n      }).then(fetch(\"https://callbackphp.herokuapp.com/fetchAlarmCall.php\").then(res => res.json()).then(result => {\n        this.setState({\n          items: result\n        });\n      }, error => {\n        this.setState({\n          error\n        });\n      })); //.then(window.location.reload());\n    };\n\n    this.handleCheckboxClick = e => {\n      const _e$target = e.target,\n            value = _e$target.value,\n            checked = _e$target.checked;\n\n      if (checked) {\n        const oldList = [...this.state.alarmNumbers];\n        oldList.push(e.target.value);\n        const collection = this.getAllItems();\n        this.setState({\n          alarmNumbers: oldList,\n          ItemsChecked: collection.length === this.state.alarmNumbers.length + 1\n        }, () => {\n          console.log(this.state.alarmNumbers);\n        });\n      } else {\n        let oldList = [...this.state.alarmNumbers];\n        oldList = oldList.filter(item => item !== value);\n        this.setState({\n          alarmNumbers: oldList,\n          ItemsChecked: false\n        }, () => {\n          console.log(this.state.alarmNumbers);\n        });\n      }\n    };\n\n    this.checkboxHandler = e => {\n      console.log(this.state.alarmNumbers);\n\n      if (!this.state.alarmNumbers.includes(e.target.value)) {\n        const oldList = [...this.state.alarmNumbers];\n        oldList.push(e.target.value);\n        this.setState({\n          alarmNumbers: oldList\n        }, () => {\n          console.log(this.state.alarmNumbers);\n        });\n      } else {\n        const oldList = [...this.state.alarmNumbers];\n        oldList.pop(e.target.value);\n        this.setState({\n          alarmNumbers: oldList\n        }, function () {\n          console.log(this.state.alarmNumbers);\n        });\n      }\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          error = _this$state.error,\n          items = _this$state.items;\n    const cells = this.props.data.map((item, index) => {\n      if (item.number !== \"35834439430\" && item.number !== \"35834439431\") {\n        return React.createElement(\"tr\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          className: \"align-middle\",\n          style: {\n            width: \"10%\",\n            border: \"1px solid #ccc\",\n            borderRightColor: \"transparent\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, item.info), React.createElement(\"td\", {\n          className: \"text-center align-middle\",\n          style: {\n            width: \"10%\",\n            border: \"1px solid #ccc\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(EditNameModal, {\n          id: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        })), React.createElement(\"td\", {\n          className: \"text-center align-middle\",\n          style: {\n            width: \"30%\",\n            border: \"1px solid #ccc\",\n            borderRightColor: \"transparent\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, item.number), React.createElement(\"td\", {\n          className: \"text-center align-middle\",\n          style: {\n            width: \"10%\",\n            border: \"1px solid #ccc\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          id: item.id,\n          onClick: this.deletePublicNumberModal,\n          className: \"btn bg-transparent\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-trash\",\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }))), React.createElement(\"td\", {\n          className: \"text-center align-middle\",\n          style: {\n            width: \"5%\",\n            border: \"1px solid #ccc\",\n            borderRightColor: \"transparent\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }, item.short_number), React.createElement(\"td\", {\n          className: \"text-center align-middle\",\n          style: {\n            width: \"10%\",\n            border: \"1px solid #ccc\",\n            borderRightColor: \"transparent\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, item.short_number !== undefined ? React.createElement(EditShortNumberModal, {\n          short_number: item.short_number,\n          id: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }) : null), React.createElement(\"td\", {\n          className: \"text-center align-middle\",\n          style: {\n            width: \"10%\",\n            border: \"1px solid #ccc\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, item.short_number !== undefined ? React.createElement(\"button\", {\n          id: item.short_number,\n          onClick: this.deleteShortNumberModal,\n          className: \"btn bg-transparent\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-trash\",\n          \"aria-hidden\": \"true\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        })) : null), React.createElement(\"td\", {\n          className: \"text-center align-middle\",\n          style: {\n            width: \"10%\",\n            border: \"1px solid #ccc\",\n            borderRightColor: \"transparent\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-check\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 252\n          },\n          __self: this\n        }, React.createElement(Checkbox, {\n          className: \"form-check-input position-static\",\n          handleCheckboxClick: this.handleCheckboxClick,\n          isChecked: this.state.alarmNumbers.includes(item.number),\n          type: \"checkbox\",\n          id: \"blankCheckbox\",\n          value: item.number,\n          \"aria-label\": \"...\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        }))));\n      } else return null;\n    });\n    const mainTable = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.alarmCallAPI,\n      className: \"btn btn-info ml-3 mb-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-phone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }), \" Alarm Call\"), React.createElement(\"div\", {\n      style: {\n        marginLeft: \"10%\",\n        marginRight: \"10%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table table-bordered table-responsive table-striped \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      className: \"thead-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      className: \"text-center align-middle\",\n      style: {\n        border: \"1px solid #ccc\"\n      },\n      colSpan: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      className: \"text-center align-middle\",\n      style: {\n        border: \"1px solid #ccc\"\n      },\n      colSpan: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, \"Public Number\"), React.createElement(\"th\", {\n      className: \"text-center align-middle\",\n      style: {\n        border: \"1px solid #ccc\"\n      },\n      colSpan: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, \"Short Number\"), React.createElement(\"th\", {\n      className: \"text-center align-middle\",\n      style: {\n        border: \"1px solid #ccc\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, \"Alarm Call\", React.createElement(\"div\", {\n      className: \"form-check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-check-input position-static\",\n      type: \"checkbox\",\n      checked: this.state.ItemsChecked,\n      onChange: this.selectAll,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }))))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, cells, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      className: \"text-center align-middle\",\n      style: {\n        width: \"10%\",\n        border: \"1px solid #ccc\"\n      },\n      colSpan: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, \"Call Conference\"), React.createElement(\"td\", {\n      className: \"text-center align-middle\",\n      style: {\n        width: \"30%\",\n        border: \"1px solid #ccc\",\n        borderRightColor: \"transparent\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, \"034439431\"), React.createElement(\"td\", {\n      className: \"text-center align-middle\",\n      style: {\n        width: \"10%\",\n        border: \"1px solid #ccc\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      style: {\n        display: \"none\"\n      },\n      className: \"btn bg-transparent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-trash\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }))), React.createElement(\"td\", {\n      className: \"text-center align-middle\",\n      style: {\n        width: \"20%\",\n        border: \"1px solid #ccc\",\n        borderRightColor: \"transparent\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }, \"99\"), React.createElement(\"td\", {\n      className: \"text-center align-middle\",\n      style: {\n        width: \"10%\",\n        border: \"1px solid #ccc\",\n        borderRightColor: \"transparent\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      style: {\n        display: \"none\"\n      },\n      className: \"ui icon button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      \"aria-hidden\": \"true\",\n      className: \"trash alternate icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }))), React.createElement(\"td\", {\n      className: \"text-center align-middle\",\n      style: {\n        width: \"10%\",\n        border: \"1px solid #ccc\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      style: {\n        display: \"none\"\n      },\n      className: \"btn bg-transparent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-trash\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378\n      },\n      __self: this\n    }))), React.createElement(\"td\", {\n      className: \"text-center align-middle\",\n      style: {\n        width: \"10%\",\n        border: \"1px solid #ccc\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    })))), React.createElement(Modal, {\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      show: this.state.openShortNumber,\n      onHide: this.closeShortNumber,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, \"Delete Your Number\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399\n      },\n      __self: this\n    }, \"Are you sure you want to delete this number\")), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.closeShortNumber,\n      variant: \"secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      },\n      __self: this\n    }, \"No\"), React.createElement(Button, {\n      onClick: this.deleteShortNumberHandler,\n      variant: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }, \"Yes\"))), React.createElement(Modal, {\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      show: this.state.openPublicNumber,\n      onHide: this.closePublicNumber,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418\n      },\n      __self: this\n    }, \"Delete Your Number\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421\n      },\n      __self: this\n    }, \"Are you sure you want to delete this number\")), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.closePublicNumber,\n      variant: \"secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424\n      },\n      __self: this\n    }, \"No\"), React.createElement(Button, {\n      onClick: this.deletePublicNumberHandler,\n      variant: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427\n      },\n      __self: this\n    }, \"Yes\")))));\n    console.log(items);\n    const item = items.map(item => React.createElement(\"li\", {\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440\n      },\n      __self: this\n    }, item.answerNumber[0], \": \", item.result));\n\n    if (error) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447\n        },\n        __self: this\n      }, \"Error: \", error.message), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448\n        },\n        __self: this\n      }, mainTable));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      }, item)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457\n        },\n        __self: this\n      }, mainTable));\n    }\n  }\n\n}\n\nexport default PhoneList;","map":{"version":3,"sources":["/home/cuong/react_projects/my-app-auth/src/PhoneList.js"],"names":["React","EditNameModal","EditShortNumberModal","Button","Modal","Checkbox","PhoneList","Component","state","openShortNumber","openPublicNumber","id","alarmNumbers","ItemsChecked","error","items","setState","closeShortNumber","closePublicNumber","deleteShortNumberModal","e","target","deletePublicNumberModal","deleteShortNumberHandler","props","onSubmitSN","deletePublicNumberHandler","onSubmitPN","selectAll","checked","collection","getAllItems","console","log","data","item","push","number","filter","alarmCallAPI","fetch","method","headers","Accept","body","JSON","stringify","answerNumber","message","then","res","json","result","handleCheckboxClick","value","oldList","length","checkboxHandler","includes","pop","render","cells","map","index","width","border","borderRightColor","info","short_number","undefined","mainTable","marginLeft","marginRight","display"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./PhoneList.css\";\nimport EditNameModal from \"./EditNameModal\";\nimport EditShortNumberModal from \"./EditShortNumberModal\";\nimport { Button, Modal } from \"react-bootstrap\";\nimport Checkbox from \"./Checkbox\";\n\nclass PhoneList extends React.Component {\n  state = {\n    openShortNumber: false,\n    openPublicNumber: false,\n    id: \"\",\n    alarmNumbers: [],\n    ItemsChecked: false,\n    error: null,\n    items: []\n  };\n\n  openShortNumber = () => this.setState({ openShortNumber: true });\n  closeShortNumber = () => this.setState({ openShortNumber: false });\n\n  openPublicNumber = () => this.setState({ openPublicNumber: true });\n  closePublicNumber = () => this.setState({ openPublicNumber: false });\n\n  deleteShortNumberModal = e => {\n    this.openShortNumber();\n    this.setState({ id: e.target.id });\n  };\n\n  deletePublicNumberModal = e => {\n    this.openPublicNumber();\n    this.setState({ id: e.target.id });\n  };\n\n  deleteShortNumberHandler = () => {\n    this.props.onSubmitSN(this.state.id);\n    this.closeShortNumber();\n  };\n\n  deletePublicNumberHandler = e => {\n    this.props.onSubmitPN(this.state.id);\n    this.closePublicNumber();\n  };\n\n  selectAll = e => {\n    const { checked } = e.target;\n    let collection = [];\n\n    if (checked) {\n      collection = this.getAllItems();\n    }\n    this.setState(\n      {\n        alarmNumbers: collection,\n        ItemsChecked: checked\n      },\n      () => {\n        console.log(this.state.alarmNumbers);\n      }\n    );\n  };\n\n  getAllItems = () => {\n    const items = this.props.data;\n    let collection = [];\n    for (const item of items) {\n      collection.push(item.number);\n    }\n    collection = collection.filter(item => item !== \"35834439430\");\n    collection = collection.filter(item => item !== \"35834439431\");\n    return collection;\n  };\n\n  alarmCallAPI = () => {\n    fetch(\"http://localhost/alarmCallAPI.php\", {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify({\n        answerNumber: \"358441234001\",\n        message: \"hello world\"\n      })\n    }).then(\n      fetch(\"https://callbackphp.herokuapp.com/fetchAlarmCall.php\")\n        .then(res => res.json())\n        .then(\n          result => {\n            this.setState({\n              items: result\n            });\n          },\n          error => {\n            this.setState({\n              error\n            });\n          }\n        )\n    );\n    //.then(window.location.reload());\n  };\n\n  /*   componentDidMount() {\n    fetch(\"https://callbackphp.herokuapp.com/fetchAlarmCall.php\")\n      .then(res => res.json())\n      .then(\n        result => {\n          this.setState({\n            items: result\n          });\n        },\n        error => {\n          this.setState({\n            error\n          });\n        }\n      );\n  } */\n\n  handleCheckboxClick = e => {\n    const { value, checked } = e.target;\n    if (checked) {\n      const oldList = [...this.state.alarmNumbers];\n      oldList.push(e.target.value);\n      const collection = this.getAllItems();\n      this.setState(\n        {\n          alarmNumbers: oldList,\n          ItemsChecked: collection.length === this.state.alarmNumbers.length + 1\n        },\n        () => {\n          console.log(this.state.alarmNumbers);\n        }\n      );\n    } else {\n      let oldList = [...this.state.alarmNumbers];\n      oldList = oldList.filter(item => item !== value);\n      this.setState({ alarmNumbers: oldList, ItemsChecked: false }, () => {\n        console.log(this.state.alarmNumbers);\n      });\n    }\n  };\n\n  checkboxHandler = e => {\n    console.log(this.state.alarmNumbers);\n    if (!this.state.alarmNumbers.includes(e.target.value)) {\n      const oldList = [...this.state.alarmNumbers];\n      oldList.push(e.target.value);\n      this.setState({ alarmNumbers: oldList }, () => {\n        console.log(this.state.alarmNumbers);\n      });\n    } else {\n      const oldList = [...this.state.alarmNumbers];\n      oldList.pop(e.target.value);\n      this.setState({ alarmNumbers: oldList }, function() {\n        console.log(this.state.alarmNumbers);\n      });\n    }\n  };\n\n  render() {\n    const { error, items } = this.state;\n    const cells = this.props.data.map((item, index) => {\n      if (item.number !== \"35834439430\" && item.number !== \"35834439431\") {\n        return (\n          <tr key={index}>\n            <td\n              className=\"align-middle\"\n              style={{\n                width: \"10%\",\n                border: \"1px solid #ccc\",\n                borderRightColor: \"transparent\"\n              }}\n            >\n              {item.info}\n            </td>\n            <td\n              className=\"text-center align-middle\"\n              style={{ width: \"10%\", border: \"1px solid #ccc\" }}\n            >\n              <EditNameModal id={item.id} />\n            </td>\n            <td\n              className=\"text-center align-middle\"\n              style={{\n                width: \"30%\",\n                border: \"1px solid #ccc\",\n                borderRightColor: \"transparent\"\n              }}\n            >\n              {item.number}\n            </td>\n            <td\n              className=\"text-center align-middle\"\n              style={{ width: \"10%\", border: \"1px solid #ccc\" }}\n            >\n              <button\n                id={item.id}\n                onClick={this.deletePublicNumberModal}\n                className=\"btn bg-transparent\"\n              >\n                <i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\n              </button>\n            </td>\n            <td\n              className=\"text-center align-middle\"\n              style={{\n                width: \"5%\",\n                border: \"1px solid #ccc\",\n                borderRightColor: \"transparent\"\n              }}\n            >\n              {item.short_number}\n            </td>\n            <td\n              className=\"text-center align-middle\"\n              style={{\n                width: \"10%\",\n                border: \"1px solid #ccc\",\n                borderRightColor: \"transparent\"\n              }}\n            >\n              {item.short_number !== undefined ? (\n                <EditShortNumberModal\n                  short_number={item.short_number}\n                  id={item.id}\n                />\n              ) : null}\n            </td>\n            <td\n              className=\"text-center align-middle\"\n              style={{ width: \"10%\", border: \"1px solid #ccc\" }}\n            >\n              {item.short_number !== undefined ? (\n                <button\n                  id={item.short_number}\n                  onClick={this.deleteShortNumberModal}\n                  className=\"btn bg-transparent\"\n                >\n                  <i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\n                </button>\n              ) : null}\n            </td>\n            <td\n              className=\"text-center align-middle\"\n              style={{\n                width: \"10%\",\n                border: \"1px solid #ccc\",\n                borderRightColor: \"transparent\"\n              }}\n            >\n              <div className=\"form-check\">\n                <Checkbox\n                  className=\"form-check-input position-static\"\n                  handleCheckboxClick={this.handleCheckboxClick}\n                  isChecked={this.state.alarmNumbers.includes(item.number)}\n                  type=\"checkbox\"\n                  id=\"blankCheckbox\"\n                  value={item.number}\n                  aria-label=\"...\"\n                />\n              </div>\n            </td>\n          </tr>\n        );\n      } else return null;\n    });\n    const mainTable = (\n      <div>\n        <button onClick={this.alarmCallAPI} className=\"btn btn-info ml-3 mb-4\">\n          <i className=\"fa fa-phone\"></i> Alarm Call\n        </button>\n        <div style={{ marginLeft: \"10%\", marginRight: \"10%\" }}>\n          <table className=\"table table-bordered table-responsive table-striped \">\n            <thead className=\"thead-dark\">\n              <tr>\n                <th\n                  className=\"text-center align-middle\"\n                  style={{ border: \"1px solid #ccc\" }}\n                  colSpan=\"2\"\n                >\n                  Name\n                </th>\n                <th\n                  className=\"text-center align-middle\"\n                  style={{ border: \"1px solid #ccc\" }}\n                  colSpan=\"2\"\n                >\n                  Public Number\n                </th>\n                <th\n                  className=\"text-center align-middle\"\n                  style={{ border: \"1px solid #ccc\" }}\n                  colSpan=\"3\"\n                >\n                  Short Number\n                </th>\n                <th\n                  className=\"text-center align-middle\"\n                  style={{ border: \"1px solid #ccc\" }}\n                >\n                  Alarm Call\n                  <div className=\"form-check\">\n                    <input\n                      className=\"form-check-input position-static\"\n                      type=\"checkbox\"\n                      checked={this.state.ItemsChecked}\n                      onChange={this.selectAll}\n                    />\n                  </div>\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {cells}\n              <tr>\n                <td\n                  className=\"text-center align-middle\"\n                  style={{ width: \"10%\", border: \"1px solid #ccc\" }}\n                  colSpan=\"2\"\n                >\n                  Call Conference\n                </td>\n                <td\n                  className=\"text-center align-middle\"\n                  style={{\n                    width: \"30%\",\n                    border: \"1px solid #ccc\",\n                    borderRightColor: \"transparent\"\n                  }}\n                >\n                  034439431\n                </td>\n                <td\n                  className=\"text-center align-middle\"\n                  style={{ width: \"10%\", border: \"1px solid #ccc\" }}\n                >\n                  <button\n                    style={{ display: \"none\" }}\n                    className=\"btn bg-transparent\"\n                  >\n                    <i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\n                  </button>\n                </td>\n                <td\n                  className=\"text-center align-middle\"\n                  style={{\n                    width: \"20%\",\n                    border: \"1px solid #ccc\",\n                    borderRightColor: \"transparent\"\n                  }}\n                >\n                  99\n                </td>\n                <td\n                  className=\"text-center align-middle\"\n                  style={{\n                    width: \"10%\",\n                    border: \"1px solid #ccc\",\n                    borderRightColor: \"transparent\"\n                  }}\n                >\n                  <button\n                    style={{ display: \"none\" }}\n                    className=\"ui icon button\"\n                  >\n                    <i aria-hidden=\"true\" className=\"trash alternate icon\"></i>\n                  </button>\n                </td>\n                <td\n                  className=\"text-center align-middle\"\n                  style={{ width: \"10%\", border: \"1px solid #ccc\" }}\n                >\n                  <button\n                    style={{ display: \"none\" }}\n                    className=\"btn bg-transparent\"\n                  >\n                    <i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\n                  </button>\n                </td>\n                <td\n                  className=\"text-center align-middle\"\n                  style={{ width: \"10%\", border: \"1px solid #ccc\" }}\n                ></td>\n              </tr>\n            </tbody>\n          </table>\n\n          <Modal\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered\n            show={this.state.openShortNumber}\n            onHide={this.closeShortNumber}\n          >\n            <Modal.Header closeButton>\n              <Modal.Title>Delete Your Number</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <p>Are you sure you want to delete this number</p>\n            </Modal.Body>\n            <Modal.Footer>\n              <Button onClick={this.closeShortNumber} variant=\"secondary\">\n                No\n              </Button>\n              <Button onClick={this.deleteShortNumberHandler} variant=\"primary\">\n                Yes\n              </Button>\n            </Modal.Footer>\n          </Modal>\n\n          <Modal\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered\n            show={this.state.openPublicNumber}\n            onHide={this.closePublicNumber}\n          >\n            <Modal.Header closeButton>\n              <Modal.Title>Delete Your Number</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <p>Are you sure you want to delete this number</p>\n            </Modal.Body>\n            <Modal.Footer>\n              <Button onClick={this.closePublicNumber} variant=\"secondary\">\n                No\n              </Button>\n              <Button\n                onClick={this.deletePublicNumberHandler}\n                variant=\"primary\"\n              >\n                Yes\n              </Button>\n            </Modal.Footer>\n          </Modal>\n        </div>\n      </div>\n    );\n    console.log(items);\n    const item = items.map(item => (\n      <li key={item.id}>\n        {item.answerNumber[0]}: {item.result}\n      </li>\n    ));\n    if (error) {\n      return (\n        <div>\n          <div>Error: {error.message}</div>\n          <div>{mainTable}</div>\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <div>\n            <ul>{item}</ul>\n          </div>\n          <div>{mainTable}</div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default PhoneList;\n"]},"metadata":{},"sourceType":"module"}