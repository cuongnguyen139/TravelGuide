{"ast":null,"code":"var _jsxFileName = \"/home/cuong/react_projects/my-app-auth/src/APICalls/DetailReferenceCall.js\";\nimport React from 'react';\nimport DetailReferenceCallItem from '../UI/Modals/DetailReferenceCallItem';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nclass DetailReferenceCall extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showDetailConferenceCall: false,\n      conferenceCallItems: [],\n      start_time: '',\n      end_time: '',\n      error: null,\n      errors: {\n        date: ''\n      }\n    };\n\n    this.handleshowDetailConferenceCall = () => {\n      this.setState({\n        showDetailConferenceCall: true\n      });\n    };\n\n    this.handleCloseDetailConferenceCall = () => {\n      this.setState({\n        showDetailConferenceCall: false\n      });\n    };\n\n    this.validateDate = inputText => {\n      const dateformat = /[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/; // Match the date format through regular expression\n\n      if (inputText.match(dateformat)) {\n        const pdate = inputText.split('-');\n        const yy = parseInt(pdate[0]);\n        const mm = parseInt(pdate[1]);\n        const dd = parseInt(pdate[2]); // Create list of days of a month [assume there is no leap year by default]\n\n        const ListofDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n        if (mm === 1 || mm > 2) {\n          if (dd > ListofDays[mm - 1]) {\n            return false;\n          }\n        }\n\n        if (mm === 2) {\n          let lyear = false;\n\n          if (!(yy % 4) && yy % 100 || !(yy % 400)) {\n            lyear = true;\n          }\n\n          if (lyear === false && dd >= 29) {\n            return false;\n          }\n\n          if (lyear === true && dd > 29) {\n            return false;\n          }\n        }\n\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    this.onChange = e => {\n      if (this.state.errors.start_time !== '' || this.state.errors.end_time !== '') {\n        this.setState({\n          errors: {\n            start_time: '',\n            end_time: ''\n          }\n        });\n      }\n\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.postDataHandler = e => {\n      //e.preventDefault();\n      if (this.state.start_time === '' && this.state.end_time === '') {\n        e.preventDefault();\n        this.setState({\n          errors: {\n            start_time: 'Start date is required',\n            end_time: 'End date is required'\n          }\n        });\n        return;\n      }\n\n      if (this.state.start_time === '') {\n        e.preventDefault();\n        this.setState({\n          errors: {\n            start_time: 'Start date is required'\n          }\n        });\n        return;\n      }\n\n      if (!this.validateDate(this.state.start_time)) {\n        e.preventDefault();\n        this.setState({\n          errors: {\n            start_time: 'Invalid date'\n          }\n        });\n        return;\n      }\n\n      if (this.state.end_time === '') {\n        e.preventDefault();\n        this.setState({\n          errors: {\n            end_time: 'End date is required'\n          }\n        });\n        return;\n      }\n\n      if (!this.validateDate(this.state.end_time)) {\n        e.preventDefault();\n        this.setState({\n          errors: {\n            end_time: 'Invalid date'\n          }\n        });\n        return;\n      }\n\n      if (this.state.errors.start_time === '' && this.state.errors.end_time === '') {\n        e.preventDefault();\n        this.props.conferenceNumbers.forEach(number => {\n          axios.post('http://demo2.nsftele.com/travel-guide-php/fetchConferenceCallDetail.php', {\n            a_number: number,\n            start_time: this.state.start_time,\n            end_time: this.state.end_time\n          }).then(res => {\n            console.log(res.data.calls_out_of_blue);\n            this.setState({\n              showDetailConferenceCall: true,\n              conferenceCallItems: res.data.calls_out_of_blue\n            }); //window.location.reload(true);\n          }, error => {\n            console.log(error);\n          });\n        });\n      } else {\n        console.log(this.state.errors);\n      }\n      /* if (this.state.errors.date === '' && this.state.errors.time === '') {\n        e.preventDefault();\n        fetch('https://callbackphp.herokuapp.com/conferenceCallAPI.php', {\n          method: 'POST',\n          headers: {\n            Accept: 'application/json'\n          },\n          body: JSON.stringify({\n            a_number: this.props.conferenceNumbers[0],\n            first_time: this.state.date.concat(' ').concat(this.state.time)\n          })\n        })\n          .then(\n            setTimeout(function() {\n              window.location.reload(true);\n            }, 10000)\n          )\n          .catch(error => this.setState({ error }));\n        //.then(window.location.reload(true));\n      } else {\n        console.log(this.state.errors);\n      } */\n\n      /* if (this.state.errors.date === '' && this.state.errors.time === '') {\n        e.preventDefault();\n        this.props.conferenceNumbers.forEach(number => {\n          //alert('Successful!');\n          fetch('https://callbackphp.herokuapp.com/conferenceCallAPI.php', {\n            method: 'POST',\n            headers: {\n              Accept: 'application/json'\n            },\n            body: JSON.stringify({\n              a_number: number,\n              first_time: this.state.date.concat(' ').concat(this.state.time)\n            })\n          }).catch(error => this.setState({ error }));\n        });\n        //window.location.reload(true);\n      } else {\n        console.log(this.state.errors);\n      } */\n\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"Date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"Starting Date\"), React.createElement(\"input\", {\n      onChange: this.onChange,\n      type: \"text\",\n      value: this.state.start_time,\n      className: \"form-control\",\n      placeholder: \"YYYY-MM-DD\",\n      name: \"start_time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }), this.state.errors.start_time ? React.createElement(\"small\", {\n      className: \"form-text text-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, this.state.errors.start_time) : null), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"Date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Ending Date\"), React.createElement(\"input\", {\n      onChange: this.onChange,\n      type: \"text\",\n      value: this.state.end_time,\n      className: \"form-control\",\n      placeholder: \"YYYY-MM-DD\",\n      name: \"end_time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }), this.state.errors.end_time ? React.createElement(\"small\", {\n      className: \"form-text text-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, this.state.errors.end_time) : null), React.createElement(\"button\", {\n      onClick: this.postDataHandler,\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"Submit\")))), React.createElement(DetailReferenceCallItem, {\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      size: \"lg\",\n      show: this.state.showDetailConferenceCall,\n      onHide: this.handleCloseDetailConferenceCall,\n      items: this.state.conferenceCallItems,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    conferenceNumbers: state.conference.conferenceNumbers\n  };\n};\n\nexport default connect(mapStateToProps)(DetailReferenceCall);","map":{"version":3,"sources":["/home/cuong/react_projects/my-app-auth/src/APICalls/DetailReferenceCall.js"],"names":["React","DetailReferenceCallItem","connect","axios","DetailReferenceCall","Component","state","showDetailConferenceCall","conferenceCallItems","start_time","end_time","error","errors","date","handleshowDetailConferenceCall","setState","handleCloseDetailConferenceCall","validateDate","inputText","dateformat","match","pdate","split","yy","parseInt","mm","dd","ListofDays","lyear","onChange","e","target","name","value","postDataHandler","preventDefault","props","conferenceNumbers","forEach","number","post","a_number","then","res","console","log","data","calls_out_of_blue","render","mapStateToProps","conference"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,uBAAP,MAAoC,sCAApC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,mBAAN,SAAkCJ,KAAK,CAACK,SAAxC,CAAkD;AAAA;AAAA;AAAA,SAChDC,KADgD,GACxC;AACNC,MAAAA,wBAAwB,EAAE,KADpB;AAENC,MAAAA,mBAAmB,EAAE,EAFf;AAGNC,MAAAA,UAAU,EAAE,EAHN;AAINC,MAAAA,QAAQ,EAAE,EAJJ;AAKNC,MAAAA,KAAK,EAAE,IALD;AAMNC,MAAAA,MAAM,EAAE;AACNC,QAAAA,IAAI,EAAE;AADA;AANF,KADwC;;AAAA,SAYhDC,8BAZgD,GAYf,MAAM;AACrC,WAAKC,QAAL,CAAc;AACZR,QAAAA,wBAAwB,EAAE;AADd,OAAd;AAGD,KAhB+C;;AAAA,SAkBhDS,+BAlBgD,GAkBd,MAAM;AACtC,WAAKD,QAAL,CAAc;AACZR,QAAAA,wBAAwB,EAAE;AADd,OAAd;AAGD,KAtB+C;;AAAA,SAwBhDU,YAxBgD,GAwBjCC,SAAS,IAAI;AAC1B,YAAMC,UAAU,GAAG,qDAAnB,CAD0B,CAE1B;;AACA,UAAID,SAAS,CAACE,KAAV,CAAgBD,UAAhB,CAAJ,EAAiC;AAC/B,cAAME,KAAK,GAAGH,SAAS,CAACI,KAAV,CAAgB,GAAhB,CAAd;AACA,cAAMC,EAAE,GAAGC,QAAQ,CAACH,KAAK,CAAC,CAAD,CAAN,CAAnB;AACA,cAAMI,EAAE,GAAGD,QAAQ,CAACH,KAAK,CAAC,CAAD,CAAN,CAAnB;AACA,cAAMK,EAAE,GAAGF,QAAQ,CAACH,KAAK,CAAC,CAAD,CAAN,CAAnB,CAJ+B,CAK/B;;AACA,cAAMM,UAAU,GAAG,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB,EAA6B,EAA7B,EAAiC,EAAjC,EAAqC,EAArC,EAAyC,EAAzC,EAA6C,EAA7C,CAAnB;;AACA,YAAIF,EAAE,KAAK,CAAP,IAAYA,EAAE,GAAG,CAArB,EAAwB;AACtB,cAAIC,EAAE,GAAGC,UAAU,CAACF,EAAE,GAAG,CAAN,CAAnB,EAA6B;AAC3B,mBAAO,KAAP;AACD;AACF;;AACD,YAAIA,EAAE,KAAK,CAAX,EAAc;AACZ,cAAIG,KAAK,GAAG,KAAZ;;AACA,cAAK,EAAEL,EAAE,GAAG,CAAP,KAAaA,EAAE,GAAG,GAAnB,IAA2B,EAAEA,EAAE,GAAG,GAAP,CAA/B,EAA4C;AAC1CK,YAAAA,KAAK,GAAG,IAAR;AACD;;AACD,cAAIA,KAAK,KAAK,KAAV,IAAmBF,EAAE,IAAI,EAA7B,EAAiC;AAC/B,mBAAO,KAAP;AACD;;AACD,cAAIE,KAAK,KAAK,IAAV,IAAkBF,EAAE,GAAG,EAA3B,EAA+B;AAC7B,mBAAO,KAAP;AACD;AACF;;AACD,eAAO,IAAP;AACD,OAzBD,MAyBO;AACL,eAAO,KAAP;AACD;AACF,KAvD+C;;AAAA,SAyDhDG,QAzDgD,GAyDrCC,CAAC,IAAI;AACd,UACE,KAAKxB,KAAL,CAAWM,MAAX,CAAkBH,UAAlB,KAAiC,EAAjC,IACA,KAAKH,KAAL,CAAWM,MAAX,CAAkBF,QAAlB,KAA+B,EAFjC,EAGE;AACA,aAAKK,QAAL,CAAc;AACZH,UAAAA,MAAM,EAAE;AACNH,YAAAA,UAAU,EAAE,EADN;AAENC,YAAAA,QAAQ,EAAE;AAFJ;AADI,SAAd;AAMD;;AACD,WAAKK,QAAL,CAAc;AACZ,SAACe,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AADd,OAAd;AAGD,KAxE+C;;AAAA,SA0EhDC,eA1EgD,GA0E9BJ,CAAC,IAAI;AACrB;AACA,UAAI,KAAKxB,KAAL,CAAWG,UAAX,KAA0B,EAA1B,IAAgC,KAAKH,KAAL,CAAWI,QAAX,KAAwB,EAA5D,EAAgE;AAC9DoB,QAAAA,CAAC,CAACK,cAAF;AACA,aAAKpB,QAAL,CAAc;AACZH,UAAAA,MAAM,EAAE;AACNH,YAAAA,UAAU,EAAE,wBADN;AAENC,YAAAA,QAAQ,EAAE;AAFJ;AADI,SAAd;AAMA;AACD;;AAED,UAAI,KAAKJ,KAAL,CAAWG,UAAX,KAA0B,EAA9B,EAAkC;AAChCqB,QAAAA,CAAC,CAACK,cAAF;AACA,aAAKpB,QAAL,CAAc;AACZH,UAAAA,MAAM,EAAE;AAAEH,YAAAA,UAAU,EAAE;AAAd;AADI,SAAd;AAGA;AACD;;AAED,UAAI,CAAC,KAAKQ,YAAL,CAAkB,KAAKX,KAAL,CAAWG,UAA7B,CAAL,EAA+C;AAC7CqB,QAAAA,CAAC,CAACK,cAAF;AACA,aAAKpB,QAAL,CAAc;AACZH,UAAAA,MAAM,EAAE;AAAEH,YAAAA,UAAU,EAAE;AAAd;AADI,SAAd;AAGA;AACD;;AAED,UAAI,KAAKH,KAAL,CAAWI,QAAX,KAAwB,EAA5B,EAAgC;AAC9BoB,QAAAA,CAAC,CAACK,cAAF;AACA,aAAKpB,QAAL,CAAc;AACZH,UAAAA,MAAM,EAAE;AAAEF,YAAAA,QAAQ,EAAE;AAAZ;AADI,SAAd;AAGA;AACD;;AAED,UAAI,CAAC,KAAKO,YAAL,CAAkB,KAAKX,KAAL,CAAWI,QAA7B,CAAL,EAA6C;AAC3CoB,QAAAA,CAAC,CAACK,cAAF;AACA,aAAKpB,QAAL,CAAc;AACZH,UAAAA,MAAM,EAAE;AAAEF,YAAAA,QAAQ,EAAE;AAAZ;AADI,SAAd;AAGA;AACD;;AAED,UACE,KAAKJ,KAAL,CAAWM,MAAX,CAAkBH,UAAlB,KAAiC,EAAjC,IACA,KAAKH,KAAL,CAAWM,MAAX,CAAkBF,QAAlB,KAA+B,EAFjC,EAGE;AACAoB,QAAAA,CAAC,CAACK,cAAF;AACA,aAAKC,KAAL,CAAWC,iBAAX,CAA6BC,OAA7B,CAAqCC,MAAM,IAAI;AAC7CpC,UAAAA,KAAK,CACFqC,IADH,CAEI,yEAFJ,EAGI;AACEC,YAAAA,QAAQ,EAAEF,MADZ;AAEE9B,YAAAA,UAAU,EAAE,KAAKH,KAAL,CAAWG,UAFzB;AAGEC,YAAAA,QAAQ,EAAE,KAAKJ,KAAL,CAAWI;AAHvB,WAHJ,EASGgC,IATH,CAUIC,GAAG,IAAI;AACLC,YAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,iBAArB;AACA,iBAAKhC,QAAL,CAAc;AACZR,cAAAA,wBAAwB,EAAE,IADd;AAEZC,cAAAA,mBAAmB,EAAEmC,GAAG,CAACG,IAAJ,CAASC;AAFlB,aAAd,EAFK,CAML;AACD,WAjBL,EAkBIpC,KAAK,IAAI;AACPiC,YAAAA,OAAO,CAACC,GAAR,CAAYlC,KAAZ;AACD,WApBL;AAsBD,SAvBD;AAwBD,OA7BD,MA6BO;AACLiC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKvC,KAAL,CAAWM,MAAvB;AACD;AAED;;;;;;;;;;;;;;;;;;;;;;;AAuBA;;;;;;;;;;;;;;;;;;;;AAmBD,KAlM+C;AAAA;;AAoMhDoC,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE;AACE,MAAA,QAAQ,EAAE,KAAKnB,QADjB;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,KAAK,EAAE,KAAKvB,KAAL,CAAWG,UAHpB;AAIE,MAAA,SAAS,EAAC,cAJZ;AAKE,MAAA,WAAW,EAAC,YALd;AAME,MAAA,IAAI,EAAC,YANP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAUG,KAAKH,KAAL,CAAWM,MAAX,CAAkBH,UAAlB,GACC;AAAO,MAAA,SAAS,EAAC,uBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKH,KAAL,CAAWM,MAAX,CAAkBH,UADrB,CADD,GAIG,IAdN,CADF,EAiBE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEE;AACE,MAAA,QAAQ,EAAE,KAAKoB,QADjB;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,KAAK,EAAE,KAAKvB,KAAL,CAAWI,QAHpB;AAIE,MAAA,SAAS,EAAC,cAJZ;AAKE,MAAA,WAAW,EAAC,YALd;AAME,MAAA,IAAI,EAAC,UANP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAUG,KAAKJ,KAAL,CAAWM,MAAX,CAAkBF,QAAlB,GACC;AAAO,MAAA,SAAS,EAAC,uBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKJ,KAAL,CAAWM,MAAX,CAAkBF,QADrB,CADD,GAIG,IAdN,CAjBF,EAiCE;AACE,MAAA,OAAO,EAAE,KAAKwB,eADhB;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,SAAS,EAAC,iBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjCF,CADF,CADF,CADF,EA8CE,oBAAC,uBAAD;AACE,yBAAgB,+BADlB;AAEE,MAAA,QAAQ,MAFV;AAGE,MAAA,IAAI,EAAC,IAHP;AAIE,MAAA,IAAI,EAAE,KAAK5B,KAAL,CAAWC,wBAJnB;AAKE,MAAA,MAAM,EAAE,KAAKS,+BALf;AAME,MAAA,KAAK,EAAE,KAAKV,KAAL,CAAWE,mBANpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA9CF,CADF;AAyDD;;AA9P+C;;AAiQlD,MAAMyC,eAAe,GAAG3C,KAAK,IAAI;AAC/B,SAAO;AACL+B,IAAAA,iBAAiB,EAAE/B,KAAK,CAAC4C,UAAN,CAAiBb;AAD/B,GAAP;AAGD,CAJD;;AAMA,eAAenC,OAAO,CAAC+C,eAAD,CAAP,CAAyB7C,mBAAzB,CAAf","sourcesContent":["import React from 'react';\nimport DetailReferenceCallItem from '../UI/Modals/DetailReferenceCallItem';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nclass DetailReferenceCall extends React.Component {\n  state = {\n    showDetailConferenceCall: false,\n    conferenceCallItems: [],\n    start_time: '',\n    end_time: '',\n    error: null,\n    errors: {\n      date: ''\n    }\n  };\n\n  handleshowDetailConferenceCall = () => {\n    this.setState({\n      showDetailConferenceCall: true\n    });\n  };\n\n  handleCloseDetailConferenceCall = () => {\n    this.setState({\n      showDetailConferenceCall: false\n    });\n  };\n\n  validateDate = inputText => {\n    const dateformat = /[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/;\n    // Match the date format through regular expression\n    if (inputText.match(dateformat)) {\n      const pdate = inputText.split('-');\n      const yy = parseInt(pdate[0]);\n      const mm = parseInt(pdate[1]);\n      const dd = parseInt(pdate[2]);\n      // Create list of days of a month [assume there is no leap year by default]\n      const ListofDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n      if (mm === 1 || mm > 2) {\n        if (dd > ListofDays[mm - 1]) {\n          return false;\n        }\n      }\n      if (mm === 2) {\n        let lyear = false;\n        if ((!(yy % 4) && yy % 100) || !(yy % 400)) {\n          lyear = true;\n        }\n        if (lyear === false && dd >= 29) {\n          return false;\n        }\n        if (lyear === true && dd > 29) {\n          return false;\n        }\n      }\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  onChange = e => {\n    if (\n      this.state.errors.start_time !== '' ||\n      this.state.errors.end_time !== ''\n    ) {\n      this.setState({\n        errors: {\n          start_time: '',\n          end_time: ''\n        }\n      });\n    }\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  postDataHandler = e => {\n    //e.preventDefault();\n    if (this.state.start_time === '' && this.state.end_time === '') {\n      e.preventDefault();\n      this.setState({\n        errors: {\n          start_time: 'Start date is required',\n          end_time: 'End date is required'\n        }\n      });\n      return;\n    }\n\n    if (this.state.start_time === '') {\n      e.preventDefault();\n      this.setState({\n        errors: { start_time: 'Start date is required' }\n      });\n      return;\n    }\n\n    if (!this.validateDate(this.state.start_time)) {\n      e.preventDefault();\n      this.setState({\n        errors: { start_time: 'Invalid date' }\n      });\n      return;\n    }\n\n    if (this.state.end_time === '') {\n      e.preventDefault();\n      this.setState({\n        errors: { end_time: 'End date is required' }\n      });\n      return;\n    }\n\n    if (!this.validateDate(this.state.end_time)) {\n      e.preventDefault();\n      this.setState({\n        errors: { end_time: 'Invalid date' }\n      });\n      return;\n    }\n\n    if (\n      this.state.errors.start_time === '' &&\n      this.state.errors.end_time === ''\n    ) {\n      e.preventDefault();\n      this.props.conferenceNumbers.forEach(number => {\n        axios\n          .post(\n            'http://demo2.nsftele.com/travel-guide-php/fetchConferenceCallDetail.php',\n            {\n              a_number: number,\n              start_time: this.state.start_time,\n              end_time: this.state.end_time\n            }\n          )\n          .then(\n            res => {\n              console.log(res.data.calls_out_of_blue);\n              this.setState({\n                showDetailConferenceCall: true,\n                conferenceCallItems: res.data.calls_out_of_blue\n              });\n              //window.location.reload(true);\n            },\n            error => {\n              console.log(error);\n            }\n          );\n      });\n    } else {\n      console.log(this.state.errors);\n    }\n\n    /* if (this.state.errors.date === '' && this.state.errors.time === '') {\n      e.preventDefault();\n      fetch('https://callbackphp.herokuapp.com/conferenceCallAPI.php', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json'\n        },\n        body: JSON.stringify({\n          a_number: this.props.conferenceNumbers[0],\n          first_time: this.state.date.concat(' ').concat(this.state.time)\n        })\n      })\n        .then(\n          setTimeout(function() {\n            window.location.reload(true);\n          }, 10000)\n        )\n        .catch(error => this.setState({ error }));\n      //.then(window.location.reload(true));\n    } else {\n      console.log(this.state.errors);\n    } */\n\n    /* if (this.state.errors.date === '' && this.state.errors.time === '') {\n      e.preventDefault();\n      this.props.conferenceNumbers.forEach(number => {\n        //alert('Successful!');\n        fetch('https://callbackphp.herokuapp.com/conferenceCallAPI.php', {\n          method: 'POST',\n          headers: {\n            Accept: 'application/json'\n          },\n          body: JSON.stringify({\n            a_number: number,\n            first_time: this.state.date.concat(' ').concat(this.state.time)\n          })\n        }).catch(error => this.setState({ error }));\n      });\n      //window.location.reload(true);\n    } else {\n      console.log(this.state.errors);\n    } */\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"card\">\n          <div className=\"card-body\">\n            <form>\n              <div className=\"form-group\">\n                <label htmlFor=\"Date\">Starting Date</label>\n                <input\n                  onChange={this.onChange}\n                  type=\"text\"\n                  value={this.state.start_time}\n                  className=\"form-control\"\n                  placeholder=\"YYYY-MM-DD\"\n                  name=\"start_time\"\n                />\n                {this.state.errors.start_time ? (\n                  <small className=\"form-text text-danger\">\n                    {this.state.errors.start_time}\n                  </small>\n                ) : null}\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"Date\">Ending Date</label>\n                <input\n                  onChange={this.onChange}\n                  type=\"text\"\n                  value={this.state.end_time}\n                  className=\"form-control\"\n                  placeholder=\"YYYY-MM-DD\"\n                  name=\"end_time\"\n                />\n                {this.state.errors.end_time ? (\n                  <small className=\"form-text text-danger\">\n                    {this.state.errors.end_time}\n                  </small>\n                ) : null}\n              </div>\n              <button\n                onClick={this.postDataHandler}\n                type=\"submit\"\n                className=\"btn btn-primary\"\n              >\n                Submit\n              </button>\n            </form>\n          </div>\n        </div>\n        <DetailReferenceCallItem\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          size=\"lg\"\n          show={this.state.showDetailConferenceCall}\n          onHide={this.handleCloseDetailConferenceCall}\n          items={this.state.conferenceCallItems}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    conferenceNumbers: state.conference.conferenceNumbers\n  };\n};\n\nexport default connect(mapStateToProps)(DetailReferenceCall);\n"]},"metadata":{},"sourceType":"module"}