{"ast":null,"code":"var _jsxFileName = \"/home/cuong/react_projects/my-app-auth/src/UI/Modals/COOBModal.js\";\nimport React, { Component } from 'react';\nimport AddReferenceCall from '../../APICalls/AddReferenceCall';\nimport DetailReferenceCall from '../../APICalls/DetailReferenceCall';\nimport CallLogModal from './CallLogModal';\nimport { Button, Modal } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nclass COOBModal extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showModal: false,\n      showMakeModal: false,\n      showDeleteModal: false,\n      showDetailModal: false,\n      showLogModal: false,\n      showConferenceErrorModal: false,\n      showMoreThanOneConferenceErrorModal: false,\n      items: [],\n      error: ''\n    };\n\n    this.handleShowModal = () => this.setState({\n      showModal: true\n    });\n\n    this.handleCloseModal = () => this.setState({\n      showModal: false\n    });\n\n    this.handleShowMakeModal = () => {\n      if (this.props.conferenceNumbers.length === 0) {\n        this.setState({\n          showModal: false,\n          showConferenceErrorModal: true\n        });\n      } else {\n        this.setState({\n          showModal: false,\n          showMakeModal: true\n        });\n      }\n    };\n\n    this.handleCloseMakeModal = () => this.setState({\n      showMakeModal: false\n    });\n\n    this.handleShowDeleteModal = () => {\n      if (this.props.conferenceNumbers.length === 0) {\n        this.setState({\n          showModal: false,\n          showConferenceErrorModal: true\n        });\n      } else {\n        this.setState({\n          showModal: false,\n          showDeleteModal: true\n        });\n      }\n    };\n\n    this.handleCloseDeleteModal = () => this.setState({\n      showDeleteModal: false\n    });\n\n    this.handleShowDetailModal = () => {\n      console.log(this.props.conferenceNumbers.length);\n\n      if (this.props.conferenceNumbers.length === 0) {\n        this.setState({\n          showModal: false,\n          showConferenceErrorModal: true\n        });\n      } else if (this.props.conferenceNumbers.length > 1) {\n        this.setState({\n          showModal: false,\n          showMoreThanOneConferenceErrorModal: true\n        });\n      } else {\n        this.setState({\n          showModal: false,\n          showDetailModal: false,\n          showDetailModal: true\n        });\n      }\n    };\n\n    this.handleCloseDetailModal = () => this.setState({\n      showDetailModal: false\n    });\n\n    this.handleShowLogModal = () => {\n      this.fetchConferenceLog();\n      this.setState({\n        showModal: false,\n        showLogModal: true\n      });\n    };\n\n    this.handleCloseLogModal = () => this.setState({\n      showLogModal: false\n    });\n\n    this.handleCloseConferenceErrorModal = () => this.setState({\n      showConferenceErrorModal: false\n    });\n\n    this.handleCloseMoreThanOneConferenceErrorModal = () => this.setState({\n      showMoreThanOneConferenceErrorModal: false\n    });\n\n    this.deleteConferenceNumber = () => this.props.conferenceNumbers.forEach(number => {\n      axios.post('https://callbackphp.herokuapp.com/deleteConferenceCall.php', {\n        a_number: number\n      }).then(res => {\n        window.location.reload(true);\n      }, error => {\n        console.log(error);\n      });\n    });\n\n    this.fetchConferenceLog = () => {\n      fetch('http://demo2.nsftele.com/travel-guide-php/fetchConferenceCall.php').then(res => res.json()).then(result => {\n        this.setState({\n          items: result\n        });\n      }, error => {\n        this.setState({\n          error\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    const childRef = this.props.childRef;\n    childRef(this);\n  }\n\n  componentWillUnmount() {\n    const childRef = this.props.childRef;\n    childRef(undefined);\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Modal, {\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      show: this.state.showModal,\n      onHide: this.handleCloseModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Step #1\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Please choose an option\"), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleShowMakeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Add Call\"), React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleShowDetailModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Show Call\"), React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleShowDeleteModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Delele Call\"), React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleShowLogModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Call Log\"))), React.createElement(Modal, {\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      show: this.state.showMakeModal,\n      onHide: this.handleCloseMakeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"Step #2\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(AddReferenceCall, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    })))), React.createElement(Modal, {\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      show: this.state.showDeleteModal,\n      onHide: this.handleCloseDeleteModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"Delete Scheduled Call\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"Are you sure you want to delete this scheduled call?\")), React.createElement(Modal.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.handleCloseDeleteModal,\n      variant: \"secondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"No\"), React.createElement(Button, {\n      onClick: this.deleteConferenceNumber,\n      variant: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"Yes\"))), React.createElement(Modal, {\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      show: this.state.showDetailModal,\n      onHide: this.handleCloseDetailModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Step #2\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(DetailReferenceCall, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    })))), React.createElement(CallLogModal, {\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      show: this.state.showLogModal,\n      onHide: this.handleCloseLogModal,\n      items: this.state.items,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }), React.createElement(Modal, {\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      show: this.state.showConferenceErrorModal,\n      onHide: this.handleCloseConferenceErrorModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, \"Error!\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"Please choose at least a conference number\")), React.createElement(Modal, {\n      \"aria-labelledby\": \"contained-modal-title-vcenter\",\n      centered: true,\n      show: this.state.showMoreThanOneConferenceErrorModal,\n      onHide: this.handleCloseMoreThanOneConferenceErrorModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, \"Error!\")), React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, \"Please choose only one conference number\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    conferenceNumbers: state.conference.conferenceNumbers\n  };\n};\n\nexport default connect(mapStateToProps)(COOBModal);","map":{"version":3,"sources":["/home/cuong/react_projects/my-app-auth/src/UI/Modals/COOBModal.js"],"names":["React","Component","AddReferenceCall","DetailReferenceCall","CallLogModal","Button","Modal","connect","axios","COOBModal","state","showModal","showMakeModal","showDeleteModal","showDetailModal","showLogModal","showConferenceErrorModal","showMoreThanOneConferenceErrorModal","items","error","handleShowModal","setState","handleCloseModal","handleShowMakeModal","props","conferenceNumbers","length","handleCloseMakeModal","handleShowDeleteModal","handleCloseDeleteModal","handleShowDetailModal","console","log","handleCloseDetailModal","handleShowLogModal","fetchConferenceLog","handleCloseLogModal","handleCloseConferenceErrorModal","handleCloseMoreThanOneConferenceErrorModal","deleteConferenceNumber","forEach","number","post","a_number","then","res","window","location","reload","fetch","json","result","componentDidMount","childRef","componentWillUnmount","undefined","render","mapStateToProps","conference"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport AddReferenceCall from '../../APICalls/AddReferenceCall';\nimport DetailReferenceCall from '../../APICalls/DetailReferenceCall';\nimport CallLogModal from './CallLogModal';\nimport { Button, Modal } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nclass COOBModal extends Component {\n  state = {\n    showModal: false,\n    showMakeModal: false,\n    showDeleteModal: false,\n    showDetailModal: false,\n    showLogModal: false,\n    showConferenceErrorModal: false,\n    showMoreThanOneConferenceErrorModal: false,\n    items: [],\n    error: ''\n  };\n\n  handleShowModal = () => this.setState({ showModal: true });\n  handleCloseModal = () => this.setState({ showModal: false });\n\n  handleShowMakeModal = () => {\n    if (this.props.conferenceNumbers.length === 0) {\n      this.setState({\n        showModal: false,\n        showConferenceErrorModal: true\n      });\n    } else {\n      this.setState({\n        showModal: false,\n        showMakeModal: true\n      });\n    }\n  };\n  handleCloseMakeModal = () =>\n    this.setState({\n      showMakeModal: false\n    });\n\n  handleShowDeleteModal = () => {\n    if (this.props.conferenceNumbers.length === 0) {\n      this.setState({\n        showModal: false,\n        showConferenceErrorModal: true\n      });\n    } else {\n      this.setState({\n        showModal: false,\n        showDeleteModal: true\n      });\n    }\n  };\n\n  handleCloseDeleteModal = () =>\n    this.setState({\n      showDeleteModal: false\n    });\n\n  handleShowDetailModal = () => {\n    console.log(this.props.conferenceNumbers.length);\n    if (this.props.conferenceNumbers.length === 0) {\n      this.setState({\n        showModal: false,\n        showConferenceErrorModal: true\n      });\n    } else if (this.props.conferenceNumbers.length > 1) {\n      this.setState({\n        showModal: false,\n        showMoreThanOneConferenceErrorModal: true\n      });\n    } else {\n      this.setState({\n        showModal: false,\n        showDetailModal: false,\n        showDetailModal: true\n      });\n    }\n  };\n  handleCloseDetailModal = () =>\n    this.setState({\n      showDetailModal: false\n    });\n\n  handleShowLogModal = () => {\n    this.fetchConferenceLog();\n    this.setState({\n      showModal: false,\n      showLogModal: true\n    });\n  };\n  handleCloseLogModal = () =>\n    this.setState({\n      showLogModal: false\n    });\n\n  handleCloseConferenceErrorModal = () =>\n    this.setState({\n      showConferenceErrorModal: false\n    });\n\n  handleCloseMoreThanOneConferenceErrorModal = () =>\n    this.setState({\n      showMoreThanOneConferenceErrorModal: false\n    });\n\n  deleteConferenceNumber = () =>\n    this.props.conferenceNumbers.forEach(number => {\n      axios\n        .post('https://callbackphp.herokuapp.com/deleteConferenceCall.php', {\n          a_number: number\n        })\n        .then(\n          res => {\n            window.location.reload(true);\n          },\n          error => {\n            console.log(error);\n          }\n        );\n    });\n\n  fetchConferenceLog = () => {\n    fetch('http://demo2.nsftele.com/travel-guide-php/fetchConferenceCall.php')\n      .then(res => res.json())\n      .then(\n        result => {\n          this.setState({\n            items: result\n          });\n        },\n        error => {\n          this.setState({\n            error\n          });\n        }\n      );\n  };\n\n  componentDidMount() {\n    const { childRef } = this.props;\n    childRef(this);\n  }\n  componentWillUnmount() {\n    const { childRef } = this.props;\n    childRef(undefined);\n  }\n\n  render() {\n    return (\n      <>\n        <Modal\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          show={this.state.showModal}\n          onHide={this.handleCloseModal}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>Step #1</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>Please choose an option</Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={this.handleShowMakeModal}>\n              Add Call\n            </Button>\n            <Button variant=\"secondary\" onClick={this.handleShowDetailModal}>\n              Show Call\n            </Button>\n            <Button variant=\"secondary\" onClick={this.handleShowDeleteModal}>\n              Delele Call\n            </Button>\n            <Button variant=\"secondary\" onClick={this.handleShowLogModal}>\n              Call Log\n            </Button>\n          </Modal.Footer>\n        </Modal>\n\n        <Modal\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          show={this.state.showMakeModal}\n          onHide={this.handleCloseMakeModal}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>Step #2</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <div>\n              <AddReferenceCall />\n            </div>\n          </Modal.Body>\n        </Modal>\n\n        <Modal\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          show={this.state.showDeleteModal}\n          onHide={this.handleCloseDeleteModal}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>Delete Scheduled Call</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <p>Are you sure you want to delete this scheduled call?</p>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button onClick={this.handleCloseDeleteModal} variant=\"secondary\">\n              No\n            </Button>\n            <Button onClick={this.deleteConferenceNumber} variant=\"primary\">\n              Yes\n            </Button>\n          </Modal.Footer>\n        </Modal>\n\n        <Modal\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          show={this.state.showDetailModal}\n          onHide={this.handleCloseDetailModal}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>Step #2</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <div>\n              <DetailReferenceCall />\n            </div>\n          </Modal.Body>\n        </Modal>\n\n        <CallLogModal\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          show={this.state.showLogModal}\n          onHide={this.handleCloseLogModal}\n          items={this.state.items}\n        />\n\n        <Modal\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          show={this.state.showConferenceErrorModal}\n          onHide={this.handleCloseConferenceErrorModal}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>Error!</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>Please choose at least a conference number</Modal.Body>\n        </Modal>\n\n        <Modal\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          show={this.state.showMoreThanOneConferenceErrorModal}\n          onHide={this.handleCloseMoreThanOneConferenceErrorModal}\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>Error!</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>Please choose only one conference number</Modal.Body>\n        </Modal>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    conferenceNumbers: state.conference.conferenceNumbers\n  };\n};\n\nexport default connect(mapStateToProps)(COOBModal);\n"]},"metadata":{},"sourceType":"module"}